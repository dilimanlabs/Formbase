<link rel="import" href="../components/polymer/polymer.html"/>
<link rel="import" href="../components/core-drag-drop/core-drag-drop.html"/>
<link rel="import" href=""/>
<polymer-element name="q-palette" vertical layout attributes="questionTypes">
    <template>
        <style>
            :host {
                display: block;
            }
            .question-type {
                height: 50px;
                margin: 0 10px;
            }
        </style>
        <core-drag-drop on-drag-start="{{dragStart}}"></core-drag-drop>
        <template repeat="{{qType, index in questionTypes}}">
            <div class="question-type" index="{{index}}" draggable="true">{{qType.typeName}}</div>
        </template>
    </template>
    <script>
        Polymer({
            dragStart: function (e, dragInfo) {
                dragInfo.index = dragInfo.event.target.getAttribute('index');
                this.fire('palette-drag', dragInfo);
                console.log(dragInfo.event.pageX);
                console.log(dragInfo.event.pageY);
                dragInfo.delegateDrop = dragInfo.drop;
                dragInfo.drop = this.drop.bind(this);
            },

            drop: function (dragInfo) {
                var dropped = false;
                if (dragInfo.delegateDrop) {
                    dropped = dragInfo.delegateDrop(dragInfo);
                }
            }
        });
    </script>
</polymer-element>